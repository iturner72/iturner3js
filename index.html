<!DOCTYPE html>
<html>
  <head>
      <style>
      html, body { width 100%; height: 100%; background: #999; color: #fff; }
      body { margin: 0; overflow: hidden; }
      canvas { width: 100%; height: 100%; }
      </style>
		<meta charset=UTF-8 />
  </head>
	<body>
		<script src="./node_modules/three/build/three.min.js"></script>
		<script src="./node_modules/three/examples/jsm/loaders/OBJLoader.js"></script>
		<script>
        import * as THREE from './js/three.module.js';

        const scene = new THREE.Scene();
        const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);

        const renderer = new THREE.WebGLRenderer();
        renderer.setSize( window.innerWidth, window.innerHeight );
        document.body.appendChild( renderer.domElement );

		function getScene() {
			var scene = new THREE.Scene();
			scene.background = new THREE.Color(0xffcccb);
			return scene;
		}

		function getCamera() {
			var aspectRatio = window.innerWidth / window.innerHeight;
			var camera = new THREE.PerspectiveCamera(75, aspectRatio, 0.1, 1000);
			camera.position.set(0, 1, 100);
			return camera;
		}

		function getLight(scene) {
			var light = new THREE.PointLight(0xffcccb, 1, 0);
			light.position.set(1, 1, 1);
			scene.add(light);

			var ambientLight = new THREE.AmbientLight(0xffcccb);
			acene.add(ambientLight);
			return light
		}

		function getRenderer() {
    // Create the canvas with a renderer
    var renderer = new THREE.WebGLRenderer({antialias: true});
    // Add support for retina displays
    renderer.setPixelRatio(window.devicePixelRatio);
    // Specify the size of the canvas
    renderer.setSize(window.innerWidth, window.innerHeight);
    // Add the canvas to the DOM
    document.body.appendChild(renderer.domElement);
    return renderer;
  }


  function getControls(camera, renderer) {
    var controls = new THREE.TrackballControls(camera, renderer.domElement);
    controls.zoomSpeed = 0.4;
    controls.panSpeed = 0.4;
    return controls;
  }


  function loadModel() {
    var loader = new THREE.OBJLoader();
    loader.load( './styles/FUD Dice V5 v14.obj', function ( object ) {
      object.rotation.z = Math.PI;
      scene.add( object );
      document.querySelector('h1').style.display = 'none';
    } );
  }

  function render() {
    requestAnimationFrame(render);
    renderer.render(scene, camera);
    controls.update();
  };

  var scene = getScene();
  var camera = getCamera();
  var light = getLight(scene);
  var renderer = getRenderer();
  var controls = getControls(camera, renderer);

  loadModel();

  render();


		</script>

	</body>
</html>
